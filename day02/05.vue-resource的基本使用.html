<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../lib/vue.js"></script>
    <!-- vue-resource依赖vue -->
    <script src="https://cdn.staticfile.org/vue-resource/1.3.4/vue-resource.min.js"></script>
  </head>

  <body>
    <div id="app">
      <input type="button" value="Get请求" @click="getInfo" />

      <input type="button" value="Post请求" @click="postInfo" />

      <input type="button" value="jsonp请求" @click="jsonpInfo" />
    </div>
    <script>
      var vm = new Vue({
        el: "#app",
        data: {},
        methods: {
          getInfo() {
            //get请求
            //当发起get请求后，通过.then来设置成功的回调函数
            this.$http
              .get(
                "http://yapi.demo.qunar.com/mock/64532/bbyy_employee/user/aboutAs"
              )
              .then(function(result) {
                console.log(result.data)
                console.log(result.body)
                console.log(result)
              })
          },
          //post第三个参数为普通表单数组格式
          postInfo() {
            this.$http
              .post(
                "http://yapi.demo.qunar.com/mock/65177/puredo-api/coupon/appletCouponInfo/getCoupon",
                {},
                { emulateJSON: true }
              )
              .then(result => {
                console.log(result.body)
              })
          },

          jsonpInfo() {
            this.$http.jsonp("http://vue.studyit.io/api/jsonp").then(result => {
              console.log(result.body)
            })
          }
        }
      })
    </script>
  </body>
</html>
